{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { email: '', message: '' };\n\nconst LS_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nconst savedData = localStorage.getItem(LS_KEY);\nif (savedData) {\n  let parsedData = {};\n  try {\n    parsedData = JSON.parse(savedData);\n  } catch (err) {\n    console.error('Error parsing JSON:', err);\n  }\n\n  if (parsedData.email) {\n    formData.email = parsedData.email;\n    form.email.value = parsedData.email;\n  }\n  if (parsedData.message) {\n    formData.message = parsedData.message;\n    form.message.value = parsedData.message;\n  }\n}\n\nconst saveData = () => {\n  try {\n    localStorage.setItem(LS_KEY, JSON.stringify(formData));\n  } catch (err) {\n    console.error('Error stringifying JSON:', err);\n  }\n};\n\nform.addEventListener('input', event => {\n  if (event.target.name === 'email') {\n    formData.email = event.target.value;\n  } else if (event.target.name === 'message') {\n    formData.message = event.target.value;\n  }\n  saveData();\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n  formData = { email: '', message: '' };\n  localStorage.removeItem(LS_KEY);\n  form.reset();\n});\n"],"names":["formData","LS_KEY","form","savedData","parsedData","err","saveData","event"],"mappings":"oDAAA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAS,sBACTC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAY,aAAa,QAAQF,CAAM,EAC7C,GAAIE,EAAW,CACb,IAAIC,EAAa,CAAA,EACjB,GAAI,CACFA,EAAa,KAAK,MAAMD,CAAS,CAClC,OAAQE,EAAK,CACZ,QAAQ,MAAM,sBAAuBA,CAAG,CACzC,CAEGD,EAAW,QACbJ,EAAS,MAAQI,EAAW,MAC5BF,EAAK,MAAM,MAAQE,EAAW,OAE5BA,EAAW,UACbJ,EAAS,QAAUI,EAAW,QAC9BF,EAAK,QAAQ,MAAQE,EAAW,QAEpC,CAEA,MAAME,EAAW,IAAM,CACrB,GAAI,CACF,aAAa,QAAQL,EAAQ,KAAK,UAAUD,CAAQ,CAAC,CACtD,OAAQK,EAAK,CACZ,QAAQ,MAAM,2BAA4BA,CAAG,CAC9C,CACH,EAEAH,EAAK,iBAAiB,QAASK,GAAS,CAClCA,EAAM,OAAO,OAAS,QACxBP,EAAS,MAAQO,EAAM,OAAO,MACrBA,EAAM,OAAO,OAAS,YAC/BP,EAAS,QAAUO,EAAM,OAAO,OAElCD,GACF,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CAGvC,GAFAA,EAAM,eAAc,EAEhB,CAACP,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIA,CAAQ,EACpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAWC,CAAM,EAC9BC,EAAK,MAAK,CACZ,CAAC"}